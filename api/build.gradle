java.toolchain.getLanguageVersion().set(JavaLanguageVersion.of(8))

dependencies {
    compileOnly("com.google.code.findbugs:jsr305:${project.jsr_version}")
    compileOnly("io.netty:netty-all:${project.netty_version}")
    compileOnly("commons-io:commons-io:${project.io_version}")
    compileOnly("org.apache.commons:commons-lang3:${project.lang3_version}")
    compileOnly("org.apache.logging.log4j:log4j-core:${project.log4j_version}")

    //lavaplayer base
    implementation("com.github.walkyst:lavaplayer-fork:${lava_version}") { transitive = false }

    //lavaplayer dependencies
    implementation("${walkyst_repo}.JAADec-fork:jaadec-ext-aac:${jaadec_version}") { transitive = false }
    implementation("${walkyst_repo}:lavaplayer-natives-fork:${lava_natives_version}") { transitive = false }
    implementation("${lava_repo}:lavaplayer:${lava_version}") { transitive = false }
    implementation("${lava_repo}:lava-common:${lava_version}") { transitive = false }
    implementation("${lava_repo}:lavaplayer-ext-format-xm:${lava_version}") { transitive = false }
    implementation("${lava_repo}:lavaplayer-ext-youtube-rotator:${lava_version}") { transitive = false }
    implementation("${lava_repo}:lavaplayer-stream-merger:${lava_version}") { transitive = false }
    implementation("${lava_repo}:lavaplayer-test-samples:${lava_version}") { transitive = false }
    implementation("org.apache.httpcomponents:httpclient:${http_version}") { transitive = false }
    //implementation("com.github.mozilla.rhino:rhino:${rhino_version}") { transitive = false }
    implementation("org.mozilla:rhino:${rhino_version}") { transitive = false }
    implementation("org.mozilla:rhino-engine:${rhino_version}") { transitive = false }
    implementation("org.slf4j:slf4j-api:${slf4j_version}") { transitive = false }

    //other
    implementation("io.github.kostaskougios:cloning:${cloning_version}") { transitive = false }
    implementation("${til_repo}:theimpossiblelibrary:${til_version}") //uses a repo var for local testing
}