apply from: rootProject.file('shared-dependencies.gradle')

dependencies {
    compileOnly("com.google.code.findbugs:jsr305:${jsr_version}")
    compileOnly("io.netty:netty-all:${netty_version}")
    compileOnly("commons-io:commons-io:${io_version}")
    compileOnly("org.apache.commons:commons-lang3:${lang3_version}")
    compileOnly("org.apache.logging.log4j:log4j-core:${log4j_version}")
}

jar {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    from(configurations.embed.collect { it.isDirectory() ? it : zipTree(it) }) {
        exclude 'LICENSE.txt', 'META-INF/MANIFSET.MF', 'META-INF/maven/**', 'META-INF/*.RSA', 'META-INF/*.SF',
                'META-INF/services/*.Processor', '**/module-info.class', 'META-INF/versions/9/**'
    }
}